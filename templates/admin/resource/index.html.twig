{% extends 'base.html.twig' %}

{% block title %}Resource index{% endblock %}

{% block body %}
    <div class="container-content{% if block('player') is defined %}{% if app.user %} container-content-player {% endif %}{% endif %}">
        <h1>Administration</h1>
        <small>Retourner sur votre espace <a href="{{ path("app_admin") }}"><u>administrateur</u></a></small>

        <h3>Ressources</h3>
        <div class="container-resource">
            {% for resource in resources %}
                <div class="content-resource">
                    <a href="{{ path('app_admin_resource_show', { 'slug' : resource.slug } ) }}">
                        <img src="{{ resource.cover }}" alt="">
                        <div class="content-resource-info">
                            <h1>{{ resource.trackname }}</h1>
                            <h2>{{ resource.artistname }}</h1>
                            <p>{{ resource.description|length > 150 ? resource.description|slice(0, 150) ~ '...' : resource.description }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}

            <a href="{{ path('app_admin_resource_new') }}">
                <div class="content-add">
                    <h1>+</h1>
                </div>
            </a>
        </div>
    </div>
{% endblock %}
